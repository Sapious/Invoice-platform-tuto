(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{48:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(23),r=a.n(c),i=(a(48),a(3)),l=a.n(i),o=a(7),d=a(18),u=a(2),b=a(14),x=a(8),j=a(6),p=a(10),h=a(11),m=a.n(h),f="USER_LOGIN",O="USER_REGISTER",v="LOGIN_ERROR",y="USER_LOADING",g="USER_LOADED",w="AUTH_ERROR",k="USER_LOGOUT",N="SPINNER_LOADING",C="SPINNER_LOADED",I="CREATE_INVOICE",R="GET_INVOICE",P="GET_INVOICES",S="GET_OWN_INVOICES",D="INVOICE_ERROR",E="CANCEL_INVOICE",T="CONFIRM_INVOICE",A="SEARCH_INVOICE",_="GET_INVOICE_BY_REF",q=function(e){e?(m.a.defaults.headers.common.access_token=e,localStorage.setItem("token",e)):(delete m.a.defaults.headers.common.access_token,localStorage.removeItem("token"))},z=function(){return function(e){e({type:N}),e({type:k}),e({type:C})}},L=a(0),F=function(){return Object(L.jsx)(s.Fragment,{children:Object(L.jsx)("div",{className:"w-full h-full top-0 absolute block bg-secondary opacity-100 z-50",children:Object(L.jsx)("span",{className:"opacity-100 block relative w-0 h-0 ",style:{top:"calc( 50% - ( 80px / 2) )",left:"calc( 50% - ( 80px / 2) )"},children:Object(L.jsx)("i",{className:"fas fa-circle-notch fa-spin fa-5x text-primary-shade"})})})})},G={login:function(e){return function(){var t=Object(o.a)(l.a.mark((function t(a){var s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:N}),s={headers:{"Content-Type":"application/json"}},t.prev=2,t.next=5,m.a.post("/api/auth/login",e,s);case 5:n=t.sent,a({type:f,payload:n.data}),q(n.data.token),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),a({type:v,payload:t.t0});case 13:a({type:C});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()}},U=Object(p.b)((function(e){return{auth:e.authReducer,spinner:e.spinnerReducer}}),G)((function(e){var t=e.login,a=e.auth,n=e.spinner,c=Object(s.useState)({email:"",password:""}),r=Object(b.a)(c,2),i=r[0],p=r[1],h=Object(x.g)(),m=function(e){p(Object(u.a)(Object(u.a)({},i),{},Object(d.a)({},e.target.name,e.target.value)))},f=function(){var e=Object(o.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t(i);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.isAuthenticated&&h.push("/dashboard"),n.loading?Object(L.jsx)(F,{}):Object(L.jsx)("div",{class:"flex items-center justify-center h-screen",children:Object(L.jsx)("div",{class:"w-full max-w-md",children:Object(L.jsxs)("form",{onSubmit:function(e){return f(e)},class:"bg-white shadow-lg rounded px-12 pt-6 pb-8 mb-4",children:[Object(L.jsx)("div",{class:"text-gray-800 text-2xl flex justify-center border-b-2 py-2 mb-4",children:"Invoice Login"}),Object(L.jsxs)("div",{class:"mb-4",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"email",children:"Email"}),Object(L.jsx)("input",{onChange:function(e){return m(e)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:shadow-outline",name:"email",id:"email",type:"email",required:!0,placeholder:"Email"})]}),Object(L.jsxs)("div",{class:"mb-6",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"password",children:"Password"}),Object(L.jsx)("input",{onChange:function(e){return m(e)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-dark mb-3 leading-tight focus:outline-none focus:shadow-outline",type:"password",placeholder:"Password",name:"password",id:"password",required:!0})]}),Object(L.jsxs)("div",{class:"flex items-center justify-between",children:[Object(L.jsx)("button",{class:"px-4 py-2 rounded text-white inline-block shadow-lg bg-primary hover:bg-primary-shade focus:bg-primary-shade",type:"submit",children:"Sign In"}),Object(L.jsx)(j.b,{to:"/forget",class:"inline-block align-baseline font-normal text-sm text-primary hover:text-primary-shade",children:"Forgot Password?"})]})]})})})})),V={register:function(e){return function(){var t=Object(o.a)(l.a.mark((function t(a){var s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:N}),s={headers:{"Content-Type":"application/json"}},t.prev=2,t.next=5,m.a.post("/api/auth/register",e,s);case 5:a({type:O}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),a({type:v,payload:t.t0});case 11:a({type:C});case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()}},B=Object(p.b)((function(e){return{spinner:e.spinnerReducer}}),V)((function(e){var t=e.register,a=e.spinner,n=Object(x.g)(),c=Object(s.useState)({email:"",password:"",confirmPassword:"",street:"",city:"",zipCode:"",firstName:"",lastName:"",IDCard:"",phoneNumber:""}),r=Object(b.a)(c,2),i=r[0],p=r[1],h=function(e){p(Object(u.a)(Object(u.a)({},i),{},Object(d.a)({},e.target.name,e.target.value)))},m=function(){var e=Object(o.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),i.password!==i.confirmPassword){e.next=7;break}return e.next=4,t(i);case 4:n.push("/login"),e.next=8;break;case 7:console.log("password don't match");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.loading?Object(L.jsx)(F,{}):Object(L.jsx)("div",{class:"flex items-center justify-center h-screen",children:Object(L.jsx)("div",{class:"w-full max-w-md",children:Object(L.jsxs)("form",{onSubmit:function(e){return m(e)},class:"bg-white shadow-lg rounded px-12 pt-6 pb-8 mb-4",children:[Object(L.jsx)("div",{class:"text-gray-800 text-2xl flex justify-center border-b-2 py-2 mb-4",children:"Invoice Register"}),Object(L.jsxs)("div",{className:"flex w-full gap-4",children:[Object(L.jsxs)("div",{class:"mb-4 w-1/2",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"firstName",children:"First Name"}),Object(L.jsx)("input",{onChange:function(e){return h(e)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:shadow-outline",name:"firstName",id:"firstName",type:"text",required:!0,placeholder:"First Name"})]}),Object(L.jsxs)("div",{class:"mb-4 w-1/2",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"lastName",children:"Last Name"}),Object(L.jsx)("input",{onChange:function(e){return h(e)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:shadow-outline",name:"lastName",id:"lastName",type:"text",required:!0,placeholder:"Last Name"})]})]}),Object(L.jsxs)("div",{className:"flex w-full gap-4",children:[Object(L.jsxs)("div",{class:"mb-4 w-1/2",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"IDCard",children:"ID CARD"}),Object(L.jsx)("input",{onChange:function(e){return h(e)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:shadow-outline",name:"IDCard",id:"IDCard",type:"number",required:!0,placeholder:"ID CARD"})]}),Object(L.jsxs)("div",{class:"mb-4 w-1/2",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"phoneNumber",children:"Phone Number"}),Object(L.jsx)("input",{onChange:function(e){return h(e)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:shadow-outline",name:"phoneNumber",id:"phoneNumber",type:"number",required:!0,placeholder:"Phone Number"})]})]}),Object(L.jsxs)("div",{class:"mb-4",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"email",children:"Email"}),Object(L.jsx)("input",{onChange:function(e){return h(e)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:shadow-outline",name:"email",id:"email",type:"email",required:!0,placeholder:"Email"})]}),Object(L.jsxs)("div",{class:"mb-4",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"password",children:"Password"}),Object(L.jsx)("input",{onChange:function(e){return h(e)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-dark mb-3 leading-tight focus:outline-none focus:shadow-outline",type:"password",placeholder:"Password",name:"password",id:"password",required:!0})]}),Object(L.jsxs)("div",{class:"mb-4",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"password",children:"Confirm Password"}),Object(L.jsx)("input",{onChange:function(e){return h(e)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-dark mb-3 leading-tight focus:outline-none focus:shadow-outline",type:"password",placeholder:"Password",name:"confirmPassword",id:"confirmPassword",required:!0})]}),Object(L.jsxs)("div",{className:"flex w-full gap-4",children:[Object(L.jsxs)("div",{class:"mb-4 w-1/3",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"city",children:"City"}),Object(L.jsx)("input",{onChange:function(e){return h(e)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:shadow-outline",name:"city",id:"city",type:"text",required:!0,placeholder:"City"})]}),Object(L.jsxs)("div",{class:"mb-4 w-1/3",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"street",children:"Street"}),Object(L.jsx)("input",{onChange:function(e){return h(e)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:shadow-outline",name:"street",id:"street",type:"text",placeholder:"Street"})]}),Object(L.jsxs)("div",{class:"mb-4 w-1/3",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"zipCode",children:"Zip Code"}),Object(L.jsx)("input",{onChange:function(e){return h(e)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:shadow-outline",name:"zipCode",id:"zipCode",type:"number",required:!0,placeholder:"Zip Code"})]})]}),Object(L.jsxs)("div",{class:"flex items-center justify-between",children:[Object(L.jsx)("button",{class:"px-4 py-2 rounded text-white inline-block shadow-lg bg-primary hover:bg-primary-shade focus:bg-primary-shade",type:"submit",children:"Register"}),Object(L.jsx)(j.b,{class:"inline-block align-baseline font-bold hover:underline text-sm text-primary hover:text-primary-shade",to:"/login",children:"Go to Login"})]})]})})})})),H={logout:z},M=Object(p.b)((function(e){return{auth:e.authReducer}}),H)((function(e){var t=e.auth,a=e.logout;return!Object(x.i)("/dashboard")&&Object(L.jsx)("header",{children:Object(L.jsxs)("nav",{className:"flex items-center justify-between py-2 px-4 border-b border-gray-200",children:[Object(L.jsx)("div",{className:"flex items-center justify-start w-1/3 gap-4",children:Object(L.jsx)(j.b,{to:"/login",className:" p-4 align-baseline font-bold capitalize text-sm text-primary hover:text-primary-shade",children:"Logo"})}),Object(L.jsxs)("div",{className:"flex items-center justify-center w-2/3 gap-12",children:[Object(L.jsx)(j.b,{to:"/",className:" p-4 align-baseline font-bold capitalize text-sm text-primary hover:text-primary-shade",children:"Home"}),Object(L.jsx)(j.b,{to:"/login",className:" p-4 align-baseline font-bold capitalize text-sm text-primary hover:text-primary-shade",children:"Pricing"}),Object(L.jsx)(j.b,{to:"/login",className:" p-4 align-baseline font-bold capitalize text-sm text-primary hover:text-primary-shade",children:"test"})]}),!t.isAuthenticated&&Object(L.jsxs)("div",{className:"flex items-center justify-end w-1/3 gap-4",children:[Object(L.jsx)(j.b,{to:"/login",className:" p-4 align-baseline font-bold capitalize text-sm text-primary hover:text-primary-shade",children:"Login"}),Object(L.jsx)(j.b,{to:"/register",className:" p-4 align-baseline font-bold capitalize text-sm text-primary hover:text-primary-shade",children:"Register"})]}),t.isAuthenticated&&Object(L.jsx)("div",{className:"flex items-center justify-end w-1/3 gap-4",children:Object(L.jsx)("button",{onClick:function(e){e.preventDefault(),a()},className:" p-4 align-baseline font-bold capitalize text-sm text-primary hover:text-primary-shade",children:"Logout"})})]})})})),Q=function(){return!Object(x.i)("/dashboard")&&Object(L.jsx)("footer",{children:Object(L.jsx)("div",{class:"bg-gray-100",children:Object(L.jsxs)("div",{class:"max-w-6xl m-auto text-gray-800 flex flex-wrap justify-center",children:[Object(L.jsxs)("div",{class:"p-5 w-48 ",children:[Object(L.jsx)("div",{class:"text-xs uppercase text-gray-500 font-medium",children:"Home"}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Services ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1"})]}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Products ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1"})]}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["About Us ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1"})]}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Pricing ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1"})]}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Partners ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1",children:"New"})]})]}),Object(L.jsxs)("div",{class:"p-5 w-48 ",children:[Object(L.jsx)("div",{class:"text-xs uppercase text-gray-500 font-medium",children:"User"}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Sign in ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1"})]}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["New Account ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1"})]}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Demo ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1",children:"New"})]}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Career"," ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1",children:"We're hiring"})]}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Surveys ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1",children:"New"})]})]}),Object(L.jsxs)("div",{class:"p-5 w-48 ",children:[Object(L.jsx)("div",{class:"text-xs uppercase text-gray-500 font-medium",children:"Resources"}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Documentation ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1"})]}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Tutorials ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1"})]}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Support ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1",children:"New"})]})]}),Object(L.jsxs)("div",{class:"p-5 w-48 ",children:[Object(L.jsx)("div",{class:"text-xs uppercase text-gray-500 font-medium",children:"Product"}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Our Products ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1"})]}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Great Deals ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1",children:"New"})]}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Analytics ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1"})]}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Mobile ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1"})]})]}),Object(L.jsxs)("div",{class:"p-5 w-48 ",children:[Object(L.jsx)("div",{class:"text-xs uppercase text-gray-500 font-medium",children:"Support"}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Help Center ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1"})]}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Privacy Policy ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1"})]}),Object(L.jsxs)("a",{class:"my-3 block",href:"/#",children:["Conditions ",Object(L.jsx)("span",{class:"text-teal-600 text-xs p-1"})]})]})]})})})},W=function(){return Object(L.jsx)("div",{children:"this landing"})},J=function(){return Object(L.jsx)("div",{className:"py-4 px-12",children:"home"})},Z=function(){return Object(L.jsxs)("div",{className:"w-1/6 bg-primary h-full flex flex-col items-center",children:[Object(L.jsx)("div",{className:"w-full text-white font-semibold uppercase py-4 h-20 flex items-center justify-center px-6 text-center mb-10",children:"logo"}),Object(L.jsxs)("div",{className:" w-full flex flex-col gap-2 h-5/6",children:[Object(L.jsxs)(j.c,{activeClassName:"bg-primary-shade",exact:!0,to:"/dashboard",className:"py-4 px-6 hover:bg-primary-shade text-white font-semibold uppercase rounded-l-full ease-in-out duration-200 flex items-center gap-2",children:[Object(L.jsx)("i",{class:"fas fa-home"}),Object(L.jsx)("span",{children:"Home"})]}),Object(L.jsxs)(j.c,{activeClassName:"bg-primary-shade",exact:!0,to:"/dashboard/invoices",className:"py-4 px-6 hover:bg-primary-shade text-white font-semibold uppercase rounded-l-full ease-in-out duration-200 flex items-center gap-2",children:[Object(L.jsx)("i",{class:"fas fa-file-invoice"}),Object(L.jsx)("span",{children:"Invoices"})]}),Object(L.jsx)(j.c,{activeClassName:"bg-primary-shade",exact:!0,to:"/dashboard/test",className:"py-4 px-6 hover:bg-primary-shade text-white font-semibold uppercase rounded-l-full ease-in-out duration-200 flex items-center gap-2",children:Object(L.jsx)("span",{children:"test"})})]}),Object(L.jsxs)("div",{className:"w-full flex flex-col text-white font-semibold uppercase h-1/6 justify-end pb-5",children:[Object(L.jsx)(j.b,{to:"/dashboard/invoice",className:"py-4 px-6 hover:bg-primary-shade text-white font-semibold uppercase rounded-l-full ease-in-out duration-200",children:"Test"}),Object(L.jsx)(j.b,{to:"/dashboard/invoice",className:"py-4 px-6 hover:bg-primary-shade text-white font-semibold uppercase rounded-l-full ease-in-out duration-200",children:"Test"})]})]})},K=a(77),Y={logout:z},X=Object(p.b)((function(e){return{auth:e.authReducer}}),Y)((function(e){var t=e.auth,a=e.logout,n=Object(s.useState)(!1),c=Object(b.a)(n,2),r=c[0],i=c[1],l=Object(s.useRef)(null);return Object(K.a)(l,(function(e){console.log(),e.path.find((function(e){return"parent-drop"===e.id}))||i(!1)})),Object(L.jsxs)(s.Fragment,{children:[Object(L.jsxs)("div",{className:"flex justify-between items-center py-4 px-12 rounded-tl-3xl -ml-6 bg-secondary h-20",children:[Object(L.jsx)("div",{className:" font-bold text-dark text-lg",children:"Home"}),Object(L.jsxs)("div",{id:"parent-drop",onClick:function(e){return i(!r)},className:"flex justify-between items-center border border-gray-200 rounded p-2 cursor-pointer gap-2",children:[Object(L.jsx)("div",{className:" rounded-full w-6 h-6 bg-blue-300 text-blue-500 flex justify-center items-center",children:Object(L.jsxs)("div",{className:"uppercase text-sm",children:[t.user.lastName[0],t.user.firstName[0]]})}),Object(L.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[Object(L.jsxs)("div",{className:"capitalize text-dark text-sm flex justify-center items-center",children:[t.user.firstName," ",t.user.lastName]}),Object(L.jsx)("i",{class:"fas fa-chevron-down text-dark text-sm"})]})]})]}),r&&Object(L.jsxs)("div",{ref:l,style:{width:"135px"},className:"absolute right-12 top-16 bg-gray-100 shadow-md rounded-md",children:[Object(L.jsx)("div",{className:"text-dark hover:text-black p-2 hover:bg-gray-200 cursor-pointer",children:"Settings"}),Object(L.jsx)("div",{className:"text-dark hover:text-black p-2 hover:bg-gray-200 cursor-pointer",onClick:function(e){return a()},children:"Logout"})]})]})})),$=a(30),ee={createInvoice:function(e){return function(){var t=Object(o.a)(l.a.mark((function t(a){var s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:N}),s={headers:{"Content-Type":"application/json"}},t.prev=2,t.next=5,m.a.post("/api/invoices",e,s);case 5:n=t.sent,a({type:I,payload:n.data.invoice}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a({type:D,payload:t.t0});case 12:a({type:C});case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}},te=Object(p.b)((function(e){return{}}),ee)((function(e){var t=e.closeModal,a=e.createInvoice,n=Object(s.useRef)(null);Object(K.a)(n,(function(){t(!1)}));var c=Object(s.useState)([{name:"",description:"",quantity:"",unitPrice:"",subTotal:0}]),r=Object(b.a)(c,2),i=r[0],x=r[1],j=Object(s.useState)({buyerEmail:"",issueDate:"",dueDate:"",description:"",title:""}),p=Object(b.a)(j,2),h=p[0],m=p[1],f=Object(s.useState)(0),O=Object(b.a)(f,2),v=O[0],y=O[1],g=function(e){m(Object(u.a)(Object(u.a)({},h),{},Object(d.a)({},e.target.name,e.target.value)))},w=function(e,t){var a=Object($.a)(i);a[t][e.target.name]=e.target.value,a[t].subTotal=a[t].quantity*a[t].unitPrice,x(a),k()},k=function(){var e=0;i.forEach((function(t){return e+=t.subTotal})),y(e)},N=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a(Object(u.a)(Object(u.a)({},h),{},{total:v,items:i}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsx)("div",{className:"fixed h-full w-full left-0 top-0 bg-secondary bg-opacity-20 z-20",children:Object(L.jsxs)("div",{ref:n,className:"relative bg-white w-1/3 float-right py-4 px-6 h-screen shadow-md flex flex-col",children:[Object(L.jsxs)("div",{className:"flex items-center justify-between pb-4",children:[Object(L.jsx)("div",{className:"text-dark font-semibold text-lg",children:"Create New Invoice"}),Object(L.jsx)("i",{onClick:function(e){t(!1)},className:"fas fa-times text-dark text-lg cursor-pointer"})]}),Object(L.jsxs)("form",{className:"overflow-y-auto",children:[Object(L.jsxs)("div",{className:"py-4 px-2 border-primary-shade border border-opacity-40 bg-blue-600 bg-opacity-20 rounded-md flex flex-col gap-2 my-4",children:[Object(L.jsx)("label",{htmlFor:"buyer",className:"text-dark font-medium ",children:"Buyer Email"}),Object(L.jsx)("input",{onChange:function(e){g(e)},name:"buyerEmail",placeholder:"Email",className:"p-2  rounded focus:outline-none w-full text-dark",type:"email"})]}),Object(L.jsxs)("div",{className:"mn-2",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"email",children:"Title"}),Object(L.jsx)("input",{onChange:function(e){g(e)},type:"text",name:"title",id:"title",placeholder:"Title",className:" appearance-none border rounded w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:shadow-outline"})]}),Object(L.jsxs)("div",{className:"flex justify-between items-center gap-4 my-4",children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"email",children:"Issued at"}),Object(L.jsx)("input",{onChange:function(e){g(e)},type:"date",name:"issueDate",id:"issueDate",placeholder:"Issued at",className:" appearance-none border rounded w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:shadow-outline"})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"email",children:"Due on"}),Object(L.jsx)("input",{onChange:function(e){g(e)},type:"date",name:"dueDate",id:"dueDate",placeholder:"Due on",className:"appearance-none border rounded w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:shadow-outline"})]})]}),i.map((function(e,t){return Object(L.jsxs)("div",{className:"flex justify-between items-end gap-2 w-full mb-2",children:[Object(L.jsxs)("div",{class:"w-6/12",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"name",children:"Name"}),Object(L.jsx)("input",{onChange:function(e){return w(e,t)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:shadow-outline",name:"name",id:"name",type:"text",required:!0,placeholder:"Name"})]}),Object(L.jsxs)("div",{class:"w-2/12",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"quantity",children:"Quantity"}),Object(L.jsx)("input",{onChange:function(e){w(e,t)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:shadow-outline",name:"quantity",id:"quantity",type:"number",min:0,required:!0,placeholder:"Qty"})]}),Object(L.jsxs)("div",{class:"w-2/12",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"unitPrice",children:"Price"}),Object(L.jsx)("input",{onChange:function(e){w(e,t)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:shadow-outline",name:"unitPrice",id:"unitPrice",type:"number",min:0,required:!0,placeholder:"Price"})]}),Object(L.jsx)("div",{className:"text-dark text-lg w-1/12 mb-2",children:i[t].subTotal}),Object(L.jsx)("div",{onClick:function(e){if(i.length>1){var a=i.filter((function(e,a){return a!==t}));x(a)}},className:"text-dark text-lg w-1/12 mb-2 cursor-pointer",children:i.length>1&&Object(L.jsx)("i",{class:"fas fa-minus text-danger"})})]})})),Object(L.jsxs)("div",{className:"flex justify-between items-center gap-2 w-full ",children:[Object(L.jsxs)("div",{className:"flex justify-start items-center group cursor-pointer gap-4 w-8/12 py-2 px-3",onClick:function(e){return x([].concat(Object($.a)(i),[{name:"",description:"",quantity:"",unitPrice:"",subTotal:""}]))},children:[Object(L.jsx)("i",{class:"fas fa-plus text-primary group-hover:text-primary-shade"}),Object(L.jsx)("span",{className:" text-primary group-hover:text-primary-shade font-semibold",children:"Add item"})]}),Object(L.jsxs)("div",{className:"w-4/12 flex justify-start items-center",children:[Object(L.jsx)("div",{className:"text-dark font-semibold capitalize w-2/4 px-1",children:"Total:"}),Object(L.jsx)("div",{className:"text-dark font-semibold w-2/4",children:v})]})]}),Object(L.jsxs)("div",{class:"mb-4 w-full",children:[Object(L.jsx)("label",{class:"block text-dark text-sm font-normal mb-2",for:"description",children:"Description"}),Object(L.jsx)("textarea",{onChange:function(e){g(e)},class:"shadow appearance-none border rounded w-full py-2 px-3 text-dark leading-tight focus:outline-none focus:shadow-outline",name:"description",id:"description",type:"text",required:!0,placeholder:"Description"})]})]}),Object(L.jsxs)("div",{className:"flex justify-end items-center gap-4 mt-auto pt-4",children:[Object(L.jsx)("button",{onClick:function(e){t(!1)},class:"px-4 py-2 font-semibold rounded text-dark border-secondary-shade border-opacity-40 border inline-block bg-secondary hover:bg-secondary-shade focus:bg-secondary-shade",type:"button",children:"Cancel"}),Object(L.jsx)("button",{onClick:function(e){return N(e)},class:"px-4 py-2 font-semibold rounded text-white inline-block bg-primary hover:bg-primary-shade focus:bg-primary-shade",type:"button",children:"Send"})]})]})})})),ae=function(e){var t=e.text,a=e.icon,s=e.color;return Object(L.jsxs)("div",{className:"bg-".concat(s,"-tint bg-opacity-50 py-1 px-2 rounded-full flex items-center justify-between gap-2"),children:[Object(L.jsx)("i",{className:"".concat(a," fas fa-check text-").concat(s,"-shade")}),Object(L.jsx)("span",{className:"text-".concat(s,"-shade capitalize"),children:t})]})},se=a(76),ne=a(75),ce={getOwnInvoices:function(){return function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:N}),e.prev=1,e.next=4,m.a.get("/api/invoices/me");case 4:a=e.sent,t({type:S,payload:a.data.invoices}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:D,payload:e.t0});case 11:t({type:C});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},cancelInvoice:function(e){return function(){var t=Object(o.a)(l.a.mark((function t(a){var s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:N}),t.prev=1,t.next=4,m.a.get("/api/invoices/".concat(e,"/cancel"));case 4:s=t.sent,a({type:E,payload:s.data.invoice}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:D,payload:t.t0});case 11:a({type:C});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},searchInvoiceByReference:function(e){return function(){var t=Object(o.a)(l.a.mark((function t(a){var s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:N}),t.prev=1,t.next=4,m.a.get("/api/invoices/auto_complete?q=".concat(e));case 4:s=t.sent,a({type:A,payload:s.data.invoices}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:D,payload:t.t0});case 11:a({type:C});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}},re=Object(p.b)((function(e){return{invoiceState:e.invoiceReducer,spinner:e.spinnerReducer}}),ce)((function(e){var t=e.getOwnInvoices,a=e.invoiceState,n=e.cancelInvoice,c=e.spinner,r=e.searchInvoiceByReference,i=Object(s.useState)(!1),d=Object(b.a)(i,2),u=d[0],x=d[1],p=Object(s.useState)(""),h=Object(b.a)(p,2),m=h[0],f=h[1];Object(s.useEffect)((function(){t()}),[]);var O=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f(t.target.value);case 3:return e.next=5,r(t.target.value);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.loading?Object(L.jsx)(F,{}):Object(L.jsxs)(s.Fragment,{children:[u&&Object(L.jsx)(te,{closeModal:function(e){x(!1)}}),Object(L.jsxs)("div",{className:"py-4 px-12",children:[Object(L.jsxs)("div",{className:"flex justify-between items-center",children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{className:"text-dark text-lg font-semibold",children:"Invoices"}),Object(L.jsx)("span",{className:"text-dark text-sm",children:"List all your invoices"})]}),Object(L.jsx)("button",{onClick:function(e){return x(!0)},class:"px-4 py-2 text-lg font-semibold rounded text-white inline-block shadow-lg bg-primary hover:bg-primary-shade focus:bg-primary-shade",type:"button",children:"New Invoice"})]}),Object(L.jsxs)("div",{className:"flex justify-between items-center w-full my-4",children:[Object(L.jsx)("input",{name:"searchInvoice",placeholder:"Keyword",className:"py-2 pr-4 pl-8 rounded focus:outline-none w-full text-dark shadow",type:"text",onChange:function(e){return O(e)},value:m,autoFocus:!0}),Object(L.jsx)("span",{className:"absolute ml-2",children:Object(L.jsx)("i",{class:"fas fa-search text-dark"})})]}),Object(L.jsxs)("div",{className:"grid grid-cols-8 bg-white shadow-md py-3.5 justify-items-start items-center rounded-md mb-4",children:[Object(L.jsx)("div",{className:"px-2 text-dark font-medium",children:".No"}),Object(L.jsx)("div",{className:"px-2 text-dark font-medium",children:"Client"}),Object(L.jsx)("div",{className:"px-2 text-dark font-medium col-span-2",children:"Issued At"}),Object(L.jsx)("div",{className:"px-2 text-dark font-medium col-span-2",children:"Due on"}),Object(L.jsx)("div",{className:"px-2 text-dark font-medium",children:" Status"}),Object(L.jsx)("div",{className:"px-2 text-dark font-medium",children:" Action"})]}),a.invoices&&(null===a||void 0===a?void 0:a.invoices.map((function(e){return Object(L.jsxs)("div",{className:"grid grid-cols-8 bg-white shadow-md py-3.5 justify-items-start items-center rounded-md mb-4",children:[Object(L.jsxs)("div",{className:"px-2 text-dark font-medium",children:["#",e.reference]}),Object(L.jsxs)("div",{className:"px-2 text-dark font-medium capitalize",children:[e.buyer.firstName," ",e.buyer.lastName]}),Object(L.jsx)("div",{className:"px-2 text-dark font-medium col-span-2",children:Object(se.a)(Object(ne.a)(e.issueDate),"PPPP")}),Object(L.jsx)("div",{className:"px-2 text-dark font-medium col-span-2",children:Object(se.a)(Object(ne.a)(e.dueDate),"PPPP")}),Object(L.jsx)("div",{className:"px-2 text-dark font-medium",children:Object(L.jsx)(ae,{text:null===e||void 0===e?void 0:e.status,icon:"".concat("confirmed"===e.status?"fas fa-check":"pending"===e.status?"fas fa-hourglass-start":"fas fa-times"),color:"".concat("confirmed"===e.status?"success":"pending"===e.status?"warning":"danger")})}),Object(L.jsxs)("div",{className:"px-2 text-dark font-medium flex justify-start items-center gap-4",children:["pending"===(null===e||void 0===e?void 0:e.status)&&Object(L.jsx)("button",{onClick:function(){var a=Object(o.a)(l.a.mark((function a(s){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),a.next=3,n(e._id);case 3:return a.next=5,t();case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),type:"button",className:"py-1 px-2 rounded text-white inline-block bg-danger hover:bg-danger-shade focus:bg-danger-shade",children:Object(L.jsx)("i",{class:"fas fa-trash"})}),Object(L.jsx)(j.b,{to:"/dashboard/invoices/".concat(e.reference),className:"py-1 px-2 rounded text-white inline-block bg-primary hover:bg-primary-shade focus:bg-primary-shade",children:Object(L.jsx)("i",{class:"fas fa-tv"})})]})]})})))]})]})})),ie={getInvoiceByRef:function(e){return function(){var t=Object(o.a)(l.a.mark((function t(a){var s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:N}),t.prev=1,t.next=4,m.a.get("/api/invoices/".concat(e));case 4:s=t.sent,a({type:_,payload:s.data.invoice}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:D,payload:t.t0});case 11:a({type:C});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},confirmInvoice:function(e){return function(){var t=Object(o.a)(l.a.mark((function t(a){var s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:N}),t.prev=1,t.next=4,m.a.get("/api/invoices/".concat(e,"/confirm"));case 4:s=t.sent,a({type:T,payload:s.data.invoice}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:D,payload:t.t0});case 11:a({type:C});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}},le=Object(p.b)((function(e){return{spinner:e.spinnerReducer,invoice:e.invoiceReducer.invoice}}),ie)((function(e){var t=e.getInvoiceByRef,a=e.confirmInvoice,n=e.spinner,c=e.invoice,r=Object(x.g)(),i=Object(x.h)().invoiceRef;Object(s.useEffect)((function(){t(i)}),[]);var d=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a(c._id);case 3:r.push("/dashboard/invoices");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.loading?Object(L.jsx)(F,{}):Object(L.jsx)("div",{className:"bg-secondary absolute w-full h-full z-50 top-0 left-0 ",children:Object(L.jsxs)("div",{className:"mx-auto container ",children:[Object(L.jsxs)("div",{className:"flex justify-between items-center gap-12",children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{className:"text-2xl font-bold text-black uppercase",children:"Invoice number #".concat(null===c||void 0===c?void 0:c.reference)}),Object(L.jsx)("div",{className:"text-dark",children:"Click Pay to pay your invoice."})]}),"pending"===(null===c||void 0===c?void 0:c.status)&&Object(L.jsx)("button",{onClick:function(e){return d(e)},className:"px-4 py-2 font-semibold rounded text-white inline-block bg-success hover:bg-success-shade focus:bg-success-shade",type:"button",children:"Pay"})]}),Object(L.jsxs)("div",{className:"shadow-md rounded w-full bg-white mt-12 p-6",children:[Object(L.jsxs)("div",{className:"flex justify-between items-center",children:[Object(L.jsxs)("div",{children:[Object(L.jsxs)("div",{className:"text-3xl text-black font-bold uppercase",children:[Object(L.jsx)("span",{className:"text-dark text-opacity-50 ",children:"#"}),null===c||void 0===c?void 0:c.reference]}),Object(L.jsx)("div",{className:"text-dark text-2xl uppercase",children:null===c||void 0===c?void 0:c.title})]}),Object(L.jsx)("div",{children:"Logo"})]}),Object(L.jsxs)("div",{className:"flex justify-start items-center gap-8 my-8",children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{className:"text-dark text-sm",children:"Issued At"}),Object(L.jsx)("div",{className:"text-black font-bold text-sm",children:(null===c||void 0===c?void 0:c.issueDate)&&Object(se.a)(Object(ne.a)(null===c||void 0===c?void 0:c.issueDate),"PPP")})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{className:"text-dark text-sm",children:"Due on"}),Object(L.jsx)("div",{className:"text-black font-bold text-sm",children:(null===c||void 0===c?void 0:c.dueDate)&&Object(se.a)(Object(ne.a)(null===c||void 0===c?void 0:c.dueDate),"PPP")})]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{className:"text-dark",children:"Invoice for"}),Object(L.jsxs)("div",{className:"text-black font-medium capitalize",children:[null===c||void 0===c?void 0:c.buyer.firstName," ",null===c||void 0===c?void 0:c.buyer.lastName]})]}),Object(L.jsxs)("div",{className:"mt-4",children:[Object(L.jsxs)("table",{className:"w-full border-separate border border-secondary-shade rounded ",children:[Object(L.jsx)("thead",{children:Object(L.jsxs)("tr",{children:[Object(L.jsx)("th",{className:"text-left w-3/6 text-secondary-shade font-semibold",children:"Item"}),Object(L.jsx)("th",{className:"text-left w-1/6 text-secondary-shade font-semibold",children:"Quantity"}),Object(L.jsx)("th",{className:"text-left w-1/6 text-secondary-shade font-semibold",children:"Price"}),Object(L.jsx)("th",{className:"text-left w-1/6 text-secondary-shade font-semibold",children:"Total"})]})}),Object(L.jsx)("tbody",{children:(null===c||void 0===c?void 0:c.items)&&c.items.map((function(e){return Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{className:"text-left w-3/6 capitalize",children:e.name}),Object(L.jsx)("td",{className:"text-left w-1/6",children:e.quantity}),Object(L.jsxs)("td",{className:"text-left w-1/6",children:[e.unitPrice," TND"]}),Object(L.jsxs)("td",{className:"text-left w-1/6",children:[e.subTotal," TND"]})]})}))})]}),Object(L.jsxs)("div",{className:"w-full flex justify-between items-center my-6 gap-6",children:[Object(L.jsx)("div",{className:"w-3/6 text-dark font-medium text-sm",children:null===c||void 0===c?void 0:c.description}),Object(L.jsx)("div",{className:"w-2/6 text-right text-dark font-medium",children:"Total Amount"}),Object(L.jsxs)("div",{className:"w-1/6 text-left text-dark font-bold text-xl",children:[null===c||void 0===c?void 0:c.total," TND"]})]})]}),Object(L.jsx)("div",{children:Object(L.jsx)("button",{type:"button",onClick:function(e){return r.goBack()},className:"px-4 py-2 font-semibold rounded text-dark inline-block bg-secondary hover:bg-secondary-shade focus:bg-secondary-shade capitalize",children:"go back"})})]})]})})})),oe=function(){return Object(L.jsx)(s.Fragment,{children:Object(L.jsxs)("div",{className:"flex h-screen",children:[Object(L.jsx)(Z,{}),Object(L.jsxs)("div",{className:"w-5/6",children:[Object(L.jsx)(X,{}),Object(L.jsx)(x.d,{children:Object(L.jsxs)("div",{style:{height:"calc(100% - 5rem)"},className:"bg-secondary rounded-bl-3xl -ml-6",children:[Object(L.jsx)(x.b,{exact:!0,path:"/dashboard",component:J}),Object(L.jsx)(x.b,{exact:!0,path:"/dashboard/invoices",component:re}),Object(L.jsx)(x.b,{exact:!0,path:"/dashboard/invoices/:invoiceRef",component:le})]})})]})]})})},de=a(20),ue=a(39),be={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null,err:{}},xe={loading:!1},je={loading:!0,invoices:[],invoice:null,err:{}},pe=Object(de.combineReducers)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0,a=t.type,s=t.payload;switch(a){case y:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case g:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,user:s,isAuthenticated:!0});case f:return localStorage.setItem("token",s.token),Object(u.a)(Object(u.a)(Object(u.a)({},e),s),{},{isAuthenticated:!0,loading:!1});case O:return Object(u.a)(Object(u.a)({},e),{},{loading:!1});case v:return localStorage.removeItem("token"),{token:null,isAuthenticated:!1,loading:!1,user:null,err:s};case w:case k:return localStorage.removeItem("token"),{token:null,isAuthenticated:!1,loading:!1,user:null,err:{}};default:return e}},spinnerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0,a=t.type;switch(a){case N:return{loading:!0};case C:return{loading:!1};default:return e}},invoiceReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0,a=t.type,s=t.payload;switch(a){case _:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,invoice:s});case A:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,invoices:s});case I:return Object(u.a)(Object(u.a)({},e),{},{loading:!1});case R:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,invoice:s});case P:case S:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,invoices:s});case E:case T:return Object(u.a)(Object(u.a)({},e),{},{loading:!1,invoice:s});case D:return{loading:!1,err:s};default:return e}}}),he=a(40),me=[ue.a],fe=Object(de.createStore)(pe,{},Object(he.composeWithDevTools)(de.applyMiddleware.apply(void 0,me))),Oe=a(41),ve=["component","auth"],ye=Object(p.b)((function(e){return{auth:e.authReducer}}),{})((function(e){var t=e.component,a=e.auth,s=a.isAuthenticated,n=a.loading,c=Object(Oe.a)(e,ve);return Object(L.jsx)(x.b,Object(u.a)(Object(u.a)({},c),{},{render:function(e){return n?Object(L.jsx)(F,{}):s?Object(L.jsx)(t,Object(u.a)({},e)):Object(L.jsx)(x.a,{to:"/login"})}}))}));var ge=function(){return Object(s.useEffect)((function(){localStorage.token&&q(localStorage.token),fe.dispatch(function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:N}),t({type:y}),localStorage.token&&q(localStorage.token),e.prev=3,e.next=6,m.a.get("/api/auth/authcheck");case 6:a=e.sent,t({type:g,payload:a.data.user}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t({type:w,payload:e.t0});case 13:t({type:C});case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()),window.addEventListener("storage",(function(){localStorage.token||fe.dispatch({type:k})}))}),[]),Object(L.jsx)(p.a,{store:fe,children:Object(L.jsx)(s.Fragment,{children:Object(L.jsxs)(j.a,{children:[Object(L.jsx)(M,{}),Object(L.jsxs)(x.d,{children:[Object(L.jsx)(x.b,{exact:!0,path:"/",component:W}),Object(L.jsx)(x.b,{exact:!0,path:"/login",component:U}),Object(L.jsx)(x.b,{exact:!0,path:"/register",component:B}),Object(L.jsx)(ye,{component:oe})]}),Object(L.jsx)(Q,{})]})})})};r.a.render(Object(L.jsx)(n.a.StrictMode,{children:Object(L.jsx)(ge,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.cc854e7e.chunk.js.map